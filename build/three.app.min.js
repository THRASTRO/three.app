/* autogenerated by webmerge (compile context) */
;
/*
ThreeApp Framework (https://github.com/mgreter/three.app)
- Copyright (c) 2017 Marcel Greter (http://github.com/mgreter)
*/;
(function(b,d){function e(a,c){for(var k=a.split(/\./),l=e,b=0;b<k.length-1;b++)l[k[b]]||(l[k[b]]={}),l=l[k[b]];if(1==arguments.length)return l[k[b]];var d=typeof l[k[b]];if("object"==d){var d=l[k[b]],p;for(p in d)d.hasOwnProperty(p)&&(c[p]=d[p])}else if("undefined"!=d)throw Error("Namespace already taken!");return l[k[b]]=c}function a(){var c,b=!1,k=0,l=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],k++);for(c=arguments[k++];k<l;k++){var d=arguments[k],
e=void 0;for(e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b&&"[object Object]"===Object.prototype.toString.call(d[e])?c[e]=a(!0,c[e],d[e]):b&&d[e]instanceof Array?("undefined"==typeof c[e]&&(c[e]=[]),c[e]=c[e].concat(d[e])):c[e]=d[e])}return c}d=b.THREEAPP;if("object"==typeof d)for(var c in d)d.hasOwnProperty(c)&&(e[c]=d[c]);e("extend",a);e("mixin",function(c,b){if(!b||!c)debugger;c=c.prototype;b=b.prototype;for(var k in b)b.hasOwnProperty(k)&&(b[k]instanceof Array?(c[k]||(c[k]=[]),c[k]=c[k].concat(b[k])):
b[k]instanceof Function?(c[k]=b[k],a(c[k],b[k])):b[k]instanceof Object?(c[k]||(c[k]={}),a(!0,c[k],b[k])):c[k]=b[k])});e("tmpl",function(a,c){return a.replace(/%([a-zA-Z][a-zA-Z0-9]*)%/g,function(a,b){return c[b]?c[b]:"[%"+b+"%]"})});b.THREEAPP=e})(self,THREE);
(function(b,d){function e(a,c){}function a(){for(var a={},c=this.ctor,b=0;b<c.length;b++)a[c[b]]||(c[b].apply(this,arguments),a[c[b]]=!0);c=this.init;this.__proto__.wait=v;for(b=0;b<c.length;b++)a[c[b]]||(c[b].apply(this,arguments),a[c[b]]=!0)}function c(){if(0<this.pending)return this;delete this.__proto__.wait;for(var a=0;a<this.ready.length;a++)this.ready[a].apply(this,arguments);if(this.listeners)for(var c=this.listeners.ready||[],a=0;a<c.length;a++)c[a].apply(this,arguments);delete this.pending;
this.isReady=!0;return this}function g(a,c,b){c||(c=d.Class);Array.isArray(b)||(b=[b]);if(!b)throw Error("Undefined mixin!");a.prototype.ctor||(a.prototype.ctor=[]);a.prototype.init||(a.prototype.init=[]);a.prototype.ready||(a.prototype.ready=[]);a.prototype.defaults||(a.prototype.defaults={});a.prototype.listeners||(a.prototype.listeners={});if(b&&b.length)for(var e=0,v=b.length;e<v;e++){if(!b[e])throw Error("Undefined mixin!");if(!(b[e]instanceof Function)){var g=d(b[e]);if("undefined"==typeof g)throw Error("Unknown mixin: "+
b[e]);b[e]=g}}a.prototype.listeners=d.extend(!0,{},a.prototype.listeners);for(e=0;e<b.length;e++)d.mixin(a,b[e]);d.mixin(a,c);c&&(a.prototype.__proto__=c.prototype);a.static=function(c,b){a[c]=b;return this};a.method=function(c,b){a.prototype[c]=b;return this};a.proto=function(c,b){a.prototype[c](b);return this};a.defaults=function(c){d.extend(a.prototype.defaults,c);return this};a.ctor=function(c){a.prototype.ctor.push(c);return this};a.init=function(c){a.prototype.init.push(c);return this};a.ready=
function(c){a.prototype.ready.push(c);return this};a.listen=function(c,b){var e=a.prototype.listeners;e[c]||(e[c]=[]);e[c].push(b);"ready"==c&&this.isReady&&b.call(this);return this};return a}function v(a){function b(){--d.pending;c.apply(d)}function e(a){throw a;}var d=this;d.pending++;if(!a)debugger;if("function"==typeof a.listen)a.listen("ready",b);else if("function"==typeof a.then)a.then(b,e);else throw Error("Invalid wait promise");return c.apply(d)}e.create=function(){var b="string"==typeof arguments[0]?
[].shift.call(arguments):null,l=arguments[0]||e,v=arguments[1]||[],r=function(){this.pending=0;this.options=d.extend({},this.defaults);a.apply(this,arguments);c.apply(this,arguments)};b&&eval("Klass = "+r.toString().replace(/\(\)/,b+"()"));return g.call(e,r,l,v)};e.mixin=function(a){1>arguments.length&&(a=[]);return g.call(e,function(){throw Error("Can't instantiate mixins");},null,a)};e.virtual=function(a,c){0==arguments.length&&(a=e);if(!a)throw Error("Undefined virtual base!");2>arguments.length&&
(c=[]);return g.call(e,function(){throw Error("cannot instantiate virtual class");},a,c)};e.prototype.constructor=e;d("Class",e)})(THREE,THREEAPP);(function(b,d){b=d.Class.mixin().ctor(function(b,a){this.app=b;d.extend(this.options,a)});d("Options",b)})(THREE,THREEAPP);
(function(b,d){function e(a,c){return(c.prio||0)-(a.prio||0)}b=d.Class.mixin(["Options"]).ctor(function(a,c){this.listeners=d.extend(!0,{},this.listeners,this.options.listeners);this.deferred={}}).method("listen",function(a,c){"ready"==a&&this.isReady&&c.call(this);this.listeners.hasOwnProperty(a)||(this.listeners[a]=[]);a=this.listeners[a];-1==a.indexOf(c)&&a.push(c);a.sort(e)}).method("invoke",function(a){for(var c=Array.prototype.slice.call(arguments,1),b=this.listeners[a],e=0,d=b?b.length:0;e<
d;e++)b[e].apply(this,c);this.deferred[a]=!1}).method("trigger",function(a){var c=this;if(!c.deferred[a]){var b=Array.prototype.slice.call(arguments,1);c.deferred[a]=window.setTimeout(function(){for(var e=c.listeners[a],d=0,l=e?e.length:0;d<l;d++)e[d].apply(c,b);c.deferred[a]=!1},0)}});d("Events",b)})(THREE,THREEAPP);
(function(b,d){b=d.Class.mixin(["Events"]).method("required",[]).method("provided",{}).method("requires",function(b){Array.isArray(b)?this.required=this.required.concat(b):this.required.push(b);return this}).method("provides",function(b){var a=this.provided;Array.isArray(b)||(b=[b]);for(var c=0,d=b.length;c<d;++c){if(a.hasOwnProperty(b[c]))throw Error("Duplicate service provider");a[b[c]]=!0}return this});d("Plugin",b)})(THREE,THREEAPP);
(function(b,d){function e(a){for(var b in a)this.resources[b]=a[b]}function a(a,b){return this.assets[a]?this.assets[a][2].data:b}var c={},g=d.Class.mixin(["Options","Events"]).ctor(function(a,b){this.assets={};this.prefetch=e;a.resources=c;this.resources=jQuery.extend({},this.resources,this.options.resources);a.listen("loader.complete",function(a,b){for(var c=a.cbs.length,d=0;d<c;d++)a.cbs[d].assets[2]=a,a.cbs[d].resolve&&a.cbs[d].resolve(),a.complete=!0,a.data=b})}).init(function(a){var c=this,
d=c.resources,e;for(e in d){var g=d[e][0],p=d[e][1];this.assets[e]=d[e];if(a.resources[p]){var q={obj:this,assets:d[e]};a.resources[p].complete?d[e][2]=a.resources[p]:this.wait(new Promise(function(b,c){q.reject=c;q.resolve=b;a.resources[p].cbs.push(q)}))}else{var g=g.substr(0,1).toUpperCase(),m;if("S"==g)m=new b.TextLoader(a.manager);else if("I"==g)m=new b.ImageLoader(a.manager);else if("T"==g)m=new b.BlobLoader(a.manager);else if("J"==g)m=new b.JsonLoader(a.manager);else if("A"==g)m=new b.ArrayLoader(a.manager);
else if("B"==g)m=new b.BlobLoader(a.manager);else if("R"==g)m=new b.BinaryLoader(a.manager);else if("O"==g)m=new b.ObjectLoader(a.manager);else if("L"==g)m=new b.OBJLoader(a.manager);else throw"Unknown loader type for resource";q={obj:this,assets:d[e]};this.wait(new Promise(function(d,e){q.reject=e;q.resolve=d;a.resources[p]={total:0,loaded:0,cbs:[q]};(function(d,g,l){var n=function(b){a.invoke("loader.progress",c,l,b)};"T"==d?m.load(g,function(){m=new b.TextureLoader(a.manager);m.load(g,function(b){"T"==
d&&(a.loader.texLoaded+=1);a.invoke("loader.complete",l,b)},n,e);a.loader.texLoading+=1},n,e):m.load(g,function(b){a.invoke("loader.complete",l,b)},n,e)})(g,p,a.resources[p])}))}}}).ready(function(){this.asset=a}).listen("ready",function(){this.options.container&&this.options.container.add(this)});d("Resources",g)})(THREE,THREEAPP);THREE.ArrayLoader=function(b){this.manager=void 0!==b?b:THREE.DefaultLoadingManager};
THREE.ArrayLoader.prototype={constructor:THREE.ArrayLoader,load:function(b,d,e,a){var c=this.manager,g=c.app,c=new THREE.FileLoader(c);b.match(/\.lzma$/)?(c.setResponseType("arraybuffer"),c.load(b,function(b){g.wlzma.decode(b).then(function(a){a=a.toUint8Array();d.call(this,a.buffer)}).catch(a)},e,a)):(c.setResponseType("arraybuffer"),c.load(b,d,e,a))}};THREE.BlobLoader=function(b){this.manager=void 0!==b?b:THREE.DefaultLoadingManager};
THREE.BlobLoader.prototype={constructor:THREE.BlobLoader,load:function(b,d,e,a){var c=this.manager,g=c.app,c=new THREE.FileLoader(c);b.match(/\.lzma$/)?(c.setResponseType("arraybuffer"),c.load(b,function(b){g.wlzma.decode(b).then(function(a){a=new Blob(a.buffers);if("object"!=typeof a)throw Error("Invalid BLOB");d.call(this,a)}).catch(a)},e,a)):(c.setResponseType("blob"),c.load(b,function(a){if(a)return d.apply(this,arguments);throw Error("Invalid BLOB");},e,a))}};
THREE.DataLoader=function(b){this.manager=void 0!==b?b:THREE.DefaultLoadingManager};
THREE.DataLoader.prototype={constructor:THREE.DataLoader,load:function(b,d,e,a){var c=this.manager,g=c.app,c=new THREE.FileLoader(c);b.match(/\.lzma$/)?(c.setResponseType("arraybuffer"),c.load(b,function(b){g.wlzma.decode(b).then(function(a){a=JSON.parse(a);if("object"!=typeof a)throw Error("Invalid JSON");d.call(this,a)}).catch(a)},e,a)):(c.setResponseType("json"),c.load(b,function(a){if(a)return d.apply(this,arguments);throw Error("Invalid JSON");},e,a))}};
THREE.JsonLoader=function(b){this.manager=void 0!==b?b:THREE.DefaultLoadingManager};
THREE.JsonLoader.prototype={constructor:THREE.JsonLoader,load:function(b,d,e,a){var c=this.manager,g=c.app,c=new THREE.FileLoader(c);b.match(/\.lzma$/)?(c.setResponseType("arraybuffer"),c.load(b,function(b){g.wlzma.decode(b).then(function(a){a=JSON.parse(a);if("object"!=typeof a)throw Error("Invalid JSON");d.call(this,a)}).catch(a)},e,a)):(c.setResponseType("json"),c.load(b,function(a){if(a)return d.apply(this,arguments);throw Error("Invalid JSON");},e,a))}};
THREE.TextLoader=function(b){this.manager=void 0!==b?b:THREE.DefaultLoadingManager};THREE.TextLoader.prototype={constructor:THREE.TextLoader,load:function(b,d,e,a){var c=this.manager.app,g=new THREE.FileLoader(this.manager);b.match(/\.lzma$/)?(g.setResponseType("arraybuffer"),g.load(b,function(b){c.wlzma.decode(b).then(function(a){a=a.toString();if("string"!=typeof a)throw Error("Invalid Text");d.call(this,a)}).catch(a)},e,a)):(g.setResponseType("text"),g.load(b,d,e,a))}};
(function(b,d){var e=d.Class.virtual(b.Object3D).ctor(function(a,c){b.Object3D.call(this);this.sortObjects=this.matrixAutoUpdate=!0});d("Object3D",e)})(THREE,THREEAPP);(function(){var b=THREEAPP.Class.virtual(THREE.Scene).ctor(function(b,e){THREE.Scene.call(this)});THREEAPP("Scene",b)})();
(function(b,d){var e=d.Class.create("Clock",null,["Plugin"]).proto("provides","time").proto("provides","clock").ctor(function(a){a.time=0;a.clock=new b.Clock(!1);a.clock.speed=1/3600;a.listen("clock.pause",function(){a.clock.stop();a.clock.paused=!0;a.trigger("clock.adjusted")});a.listen("clock.resume",function(){a.clock.start();a.clock.paused=!1;a.trigger("clock.adjusted")});a.listen("clock.faster",function(){a.clock.speed*=2;a.trigger("clock.adjusted")});a.listen("clock.slower",function(){a.clock.speed/=
2;a.trigger("clock.adjusted")});a.listen("clock.reverse",function(){a.clock.speed*=-1;a.trigger("clock.adjusted")});a.listen("clock.reset",function(){a.clock.speed=1/3600;a.trigger("clock.adjusted")});a.listen("preframe",function(){var b=a.clock.getDelta();a.time+=b*a.clock.speed});a.clock.setSpeed=function(b){a.clock.speed=b;a.trigger("clock.adjusted")}}).ready(function(a){a.clock.start();a.clock.paused=!1;a.trigger("clock.adjusted")});d("Plugin.Clock",e)})(THREE,THREEAPP);
(function(b,d){var e=d.Class.create("Scene",null,["Plugin"]).proto("provides","scene").ctor(function(a){a.scene=a.options.scene?new a.options.scene(a):new b.Scene(a)});d("Plugin.Scene",e)})(THREE,THREEAPP);
(function(b,d){function e(a){a.resize(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)}b=d.Class.create("AutoSize",null,["Plugin"]).ctor(function(a){addEventListener("resize",function(){e(a)},!0);e(a)});d("Plugin.AutoSize",b)})(THREE,THREEAPP);
(function(b,d){var e=d.Class.create("WebGLRenderer",null,["Plugin"]).proto("provides","renderer").ctor(function(a){a.renderer=new b.WebGLRenderer({sortObjects:!0,antialias:!0,precision:"highp",alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!0,logarithmicDepthBuffer:!0});a.renderer.autoClear=!1;a.listen("resized",function(){a.renderer.setSize(a.width,a.height)});a.renderer.setSize(a.width,a.height);a.viewport.appendChild(a.renderer.domElement);a.listen("preframe",function(){a.renderer.clear()});
a.listen("render",function(){a.invoke("render-scene");a.renderer.render(a.scene,a.camera)})});d("Plugin.WebGLRenderer",e)})(THREE,THREEAPP);
(function(b,d){var e=d.Class.create("PerspectiveCamera",null,["Plugin"]).proto("provides","camera").ctor(function(a){a.camera=new b.PerspectiveCamera(this.options.fov||65,a.width/a.height,this.options.near||1E-6,this.options.far||1E20);a.camera.position.x=1E-11;a.listen("resized",function(){a.camera.aspect=a.width/a.height;a.camera.updateProjectionMatrix()})});d("Plugin.PerspectiveCamera",e)})(THREE,THREEAPP);
(function(b,d){var e=d.Class.create("TrackballControls",null,["Plugin"]).proto("requires","camera").proto("requires","renderer").ctor(function(a){a.controls=new b.TrackballControls(a.camera,a.renderer.domElement);a.listen("preframe",function(){a.controls.update()})});d("Plugin.TrackballControls",e)})(THREE,THREEAPP);
(function(b,d){function e(a,b){for(var c=a.cbs.length,d=0;d<c;d++)a.cbs[d].assets[2]=a,a.cbs[d].resolve&&a.cbs[d].resolve(),a.complete=!0,a.data=b}function a(){this.invoke("fetch.error",{})}function c(){1==++this.loader.completed&&this.trigger("prefetch.complete",this.loader);this.trigger("fetch.complete",this.loader)}function g(a){var b=this.loader;b.filesTotal=a[2]-b.texLoading;b.filesLoaded=a[1]-b.texLoaded;this.trigger("fetch.progress",{filesTotal:b.filesTotal,filesLoaded:b.filesLoaded,bytesTotal:b.bytesTotal,
bytesLoaded:b.bytesLoaded})}function v(a,b,c){a=this.loader;0==b.total&&(a.bytesTotal+=c.total);a.bytesLoaded+=c.loaded-b.loaded;b.loaded=c.loaded;b.total=c.total;this.trigger("fetch.progress",{filesTotal:a.filesTotal,filesLoaded:a.filesLoaded,bytesTotal:a.bytesTotal,bytesLoaded:a.bytesLoaded})}var k=d.Class.create("Loader",null,["Plugin"]).proto("provides","loader").ctor(function(b){b.loader=this;this.texLoaded=this.texLoading=this.bytesLoaded=this.bytesTotal=this.filesLoaded=this.filesTotal=this.completed=
0;b.listen("loader.step",g);b.listen("loader.start",c);b.listen("loader.error",a);b.listen("loader.complete",e);b.listen("loader.progress",v)}).init(function(a){a.manager=new b.LoadingManager(function(){a.invoke("loader.start",arguments)},function(){a.invoke("loader.step",arguments)},function(){a.invoke("loader.error",arguments)});a.manager.app=a});d("Plugin.Loader",k)})(THREE,THREEAPP);
(function(b,d,e){d=e.Class.create("Progress",null,["Plugin"]).ctor(function(a){this.el=b('<div id="progressbar"/>');this.wrapper=b('<div class="indicator"/>').appendTo(this.el);this.indicator=b('<div class="bg"/>').appendTo(this.wrapper);this.text=b('<div class="text"/>').appendTo(this.el);this.el.appendTo(a.viewport);this.thresholdBytes=this.thresholdFiles=0;this.stopped=!0;this.el.hide();this.indicator.css("width","0%");var c=this;a.listen("fetch.progress",function(a){c.stopped&&(!0!==c.stopped&&
clearTimeout(c.stopped),c.el.fadeIn(200),c.stopped=!1);var b=sprintf("%d/%d (%S/%S)",a.filesLoaded,a.filesTotal,a.bytesLoaded-c.thresholdBytes,a.bytesTotal-c.thresholdBytes);c.indicator.css("width",(a.bytesLoaded-c.thresholdBytes)/(a.bytesTotal-c.thresholdBytes)*100+"%");c.text.html(b)});a.listen("fetch.complete",function(a){c.thresholdBytes=a.bytesLoaded;c.thresholdFiles=a.filesLoaded;c.stopped=setTimeout(function(){c.el.fadeOut(600,function(){c.stopped=!0})},1E3)})}).init(function(){}).ready(function(){});
e("Plugin.Progress",d)})(jQuery,THREE,THREEAPP);
var StatsGPU=function(){function b(a,b,c){a=document.createElement(a);a.id=b;a.style.cssText=c;return a}function d(a,c,d){var e=b("div",a,"padding:0 0 3px 3px;text-align:left;background:"+d),f=b("div",a+"Text","font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px;color:"+c);f.innerHTML=a.toUpperCase();e.appendChild(f);a=b("div",a+"Graph","width:94px;height:30px;background:"+c);e.appendChild(a);for(c=0;94>c;c++)a.appendChild(b("span","","width:1px;height:30px;float:left;opacity:0.9;background:"+
d));return e}function e(a){for(var b=n.children,c=0;c<b.length;c++)b[c].style.display=c===a?"block":"none";l=a}function a(a,b){a.appendChild(a.firstChild).style.height=Math.min(30,30-30*b)+"px"}var c=self.performance&&self.performance.now?self.performance.now.bind(performance):Date.now,g=c(),v=g,k=0,l=0,n=b("div","statsGPU","width:100px;opacity:0.9;cursor:pointer");n.addEventListener("mousedown",function(a){a.preventDefault();e(++l%n.children.length)},!1);var r=0,p=Infinity,q=0,m=d("fps","#0ff","#002"),
y=m.children[0],w=m.children[1];n.appendChild(m);var x=0,z=Infinity,A=0,m=d("ms","#0f0","#020"),D=m.children[0],C=m.children[1];n.appendChild(m);if(self.performance&&self.performance.memory){var h=0,f=Infinity,B=0,m=d("mb","#f08","#201"),E=m.children[0],t=m.children[1];n.appendChild(m)}e(l);return{REVISION:14,domElement:n,setMode:e,begin:function(){g=c()},end:function(){var b=c();x=b-g;z=Math.min(z,x);A=Math.max(A,x);D.textContent=(x|0)+" MS ("+(z|0)+"-"+(A|0)+")";a(C,x/200);k++;if(b>v+1E3&&(r=Math.round(1E3*
k/(b-v)),p=Math.min(p,r),q=Math.max(q,r),y.textContent=r+" FPS ("+p+"-"+q+")",a(w,r/100),v=b,k=0,void 0!==h)){var d=performance.memory.usedJSHeapSize,e=performance.memory.jsHeapSizeLimit;h=Math.round(9.54E-7*d);f=Math.min(f,h);B=Math.max(B,h);E.textContent=h+" MB ("+f+"-"+B+")";a(t,d/e)}return b},update:function(){g=this.end()}}};"object"===typeof module&&(module.exports=StatsGPU);
(function(b,d){b=d.Class.create("MonitorGPU",null,["Plugin"]).ready(function(b){var a=new StatsGPU;b.viewport.appendChild(a.domElement);b.listen("preframe",function(){a.begin()});b.listen("postframe",function(){a.end()})});d("Plugin.MonitorGPU",b)})(THREE,THREEAPP);
(function(b){function d(){var a=arguments[0],b=d.cache;b[a]&&b.hasOwnProperty(a)||(b[a]=d.parse(a));return d.format.call(null,b[a],arguments)}function e(a){return"number"===typeof a?"number":"string"===typeof a?"string":Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var a=/[^T]/,c=/[^v]/,g=/[diefg]/,v=/bcdiefguxXS/,k=/[j]/,l=/^[^\x25]+/,n=/^\x25{2}/,r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxXSDR])/,p=/^([a-z_][a-z_\d]*)/i,q=/^\.([a-z_][a-z_\d]*)/i,
m=/^\[(\d+)\]/,y=/^[\+\-]/;d.format=function(b,l){var m=1,r=b.length,h,f,p=[],q,t,n,w=!0,u;for(q=0;q<r;q++)if(h=e(b[q]),"string"===h)p[p.length]=b[q];else if("array"===h){h=b[q];if(h[2])for(f=l[m],t=0;t<h[2].length;t++){if(!f.hasOwnProperty(h[2][t]))throw Error(d('[sprintf] property "%s" does not exist',h[2][t]));f=f[h[2][t]]}else f=h[1]?l[h[1]]:l[m++];a.test(h[8])&&c.test(h[8])&&"function"==e(f)&&(f=f());if(v.test(h[8])&&"number"!=e(f)&&isNaN(f))throw new TypeError(d("[sprintf] expecting number but found %s",
e(f)));g.test(h[8])&&(w=0<=f);switch(h[8]){case "b":f=parseInt(f,10).toString(2);break;case "c":f=String.fromCharCode(parseInt(f,10));break;case "d":case "i":f=parseInt(f,10);break;case "j":f=JSON.stringify(f,null,h[6]?parseInt(h[6]):0);break;case "e":f=h[7]?parseFloat(f).toExponential(h[7]):parseFloat(f).toExponential();break;case "f":f=h[7]?parseFloat(f).toFixed(h[7]):parseFloat(f);break;case "g":f=h[7]?parseFloat(f).toPrecision(h[7]):parseFloat(f);break;case "o":f=f.toString(8);break;case "s":f=
String(f);f=h[7]?f.substring(0,h[7]):f;break;case "t":f=String(!!f);f=h[7]?f.substring(0,h[7]):f;break;case "S":if(1024>Math.abs(f))f+=" B";else{t="KiB MiB GiB TiB PiB EiB ZiB YiB".split(" ");u=-1;do f/=1024,++u;while(1024<=Math.abs(f)&&u<t.length-1);f=f.toFixed(1)+t[u]}break;case "R":u=f/Math.PI*180;f=u%1*60;t=f%1*60;f=d("%02d\u00b0 %02d' %0.2f\"",u,f,t);break;case "D":f+=Math.PI;u=f/Math.PI*12;f=u%1*60;t=f%1*60;f=d("%02dh %02dm %0.2fs",u,f,t);break;case "T":f=e(f);f=h[7]?f.substring(0,h[7]):f;break;
case "u":f=parseInt(f,10)>>>0;break;case "v":f=f.valueOf();f=h[7]?f.substring(0,h[7]):f;break;case "x":f=parseInt(f,10).toString(16);break;case "X":f=parseInt(f,10).toString(16).toUpperCase()}k.test(h[8])?p[p.length]=f:(!g.test(h[8])||w&&!h[3]?u="":(u=w?"+":"-",f=f.toString().replace(y,"")),t=h[4]?"0"===h[4]?"0":h[4].charAt(1):" ",n=h[6]-(u+f).length,n=h[6]?0<n?0<=n&&7>=n&&x[t]?x[t][n]:Array(n+1).join(t):"":"",p[p.length]=h[5]?u+f+n:"0"===t?u+n+f:n+u+f)}return p.join("")};d.cache={};d.parse=function(a){for(var b,
c=[],d=0;a;){if(null!==(b=l.exec(a)))c[c.length]=b[0];else if(null!==(b=n.exec(a)))c[c.length]="%";else if(null!==(b=r.exec(a))){if(b[2]){var d=d|1,e=[],f=b[2],g;if(null!==(g=p.exec(f)))for(e[e.length]=g[1];""!==(f=f.substring(g[0].length));)if(null!==(g=q.exec(f)))e[e.length]=g[1];else if(null!==(g=m.exec(f)))e[e.length]=g[1];else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");b[2]=e}else d|=2;if(3===
d)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c[c.length]=b}else throw new SyntaxError("[sprintf] unexpected placeholder");a=a.substring(b[0].length)}return c};var w=function(a,b,c){c=(b||[]).slice(0);c.splice(0,0,a);return d.apply(null,c)},x={0:" 0 00 000 0000 00000 000000 0000000".split(" ")," ":"; ;  ;   ;    ;     ;      ;       ".split(";"),_:" _ __ ___ ____ _____ ______ _______".split(" ")};"undefined"!==typeof exports?(exports.sprintf=d,exports.vsprintf=
w):(b.sprintf=d,b.vsprintf=w,"function"===typeof define&&define.amd&&define(function(){return{sprintf:d,vsprintf:w}}))})("undefined"===typeof window?this:window);
(function(b,d,e){var a=requestAnimationFrame;b=e.Class.create("ThreeApp",null,["Events"]).ctor(function(a,b){this.frames=9999;this.viewport=a;e.extend(this.options,b)}).init(function(a){a=this;for(var b=this.options.plugins||[],d=[].concat(b),e=0;e<d.length;){var l=d[e].prototype.required;if(l&&l.length)++e;else{l=d.splice(e,1)[0];if(l.prototype.provided){for(var n=l.prototype.provided,r=0;r<d.length;r++)for(var p in n){var e=d[r].prototype.required,q=(e||[]).indexOf(p);-1!=q&&e.splice(q,1)}e=0}b[r]=
new l(this)}}if(d.length){for(r=0;r<d.length;r++)a=d[r].name,e=d[r].prototype.required,console.warn(a,"is missing",e);throw Error("Missing or circular dependencies");}a.plugins=b}).ready(function(){var a=this;this.options.start&&window.setTimeout(function(){a.start()},0)}).method("start",function(){var b=this;b.started||b.paused||(a(function(){b.render.call(b)}),b.started=!0)}).method("resize",function(a,b){this.width=a;this.height=b;this.invoke("resized")}).method("render",function(){var b=this;
b.invoke("preframe");b.invoke("render");b.invoke("postframe");b.started&&a(function(){b.render.call(b)});++b.frames});e("App",b)})(self,THREE,THREEAPP);

/* crc: 1C09698FEE91D10D054605F0390FF7DC */
